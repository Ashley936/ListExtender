"use strict";!function(t,e){function i(t={}){this.options={isUnordered:!0,allowReorder:!0,showDeleteButton:!1,...t},this.element=this.options.isUnordered?e.createElement("UL"):e.createElement("OL"),this.maxSize=100,this.listSize=0,this.inputChecks=[],this.attr={type:"text",placeholder:""},this.element.addEventListener("focusout",t=>{"submit"!==t.target.getAttribute("type")&&(t.target.parentElement.nextSibling||""!==t.target.value)&&(function(t,e){return""===t.value&&(a(e)>=2||e.listSize>e.maxSize)}(t.target,this)&&this.listSize>1?(this.element.removeChild(t.target.parentElement),this.listSize--):l(t.target)&&s(t.target,this)&&r(t.target,this))}),this.element.addEventListener("dblclick",t=>{if(!("INPUT"!==e.activeElement.tagName||l(e.activeElement)&&s(e.activeElement,this)))return t.preventDefault(),!1;"LI"===t.target.tagName&&t.target.firstChild&&"INPUT"!==t.target.firstChild.tagName&&(!function(t,e){const i=n(e),l=t.querySelector('input[type="submit"]');e.options.showDeleteButton&&l&&t.removeChild(l);i.value=t.innerText,t.removeChild(t.firstChild),t.appendChild(i)}(t.target,this),t.target.firstElementChild.select(),["text","password","url"].includes(this.attr.type)&&(t.target.firstElementChild.selectionStart=t.target.firstElementChild.selectionEnd))}),this.element.addEventListener("input",t=>{const e=[...this.element.querySelectorAll("input")].filter(t=>"submit"!==t.getAttribute("type"));for(let t=0;t<e.length;t++)if(!s(e[t],this)||!e[t].checkValidity())return;this.addListItem()}),this.options.allowReorder&&this.element.addEventListener("dragover",t=>{t.preventDefault();const i=e.querySelector(".dragging");if(!this.element.contains(i))return;let n=null,l=-1*window.outerHeight;[...this.element.children].filter(t=>t!==i).forEach(e=>{const i=e.getBoundingClientRect().y;t.clientY-i>l&&t.clientY-i<0&&(n=e,l=i-t.clientY)}),n?n.before(i):this.element.appendChild(i)}),this.options.showDeleteButton&&(this.element.addEventListener("mouseenter",t=>{[...this.element.children].forEach(t=>{t.querySelector('input[type="submit"]')&&(t.querySelector('input[type="submit"]').style.visibility="visible")})}),this.element.addEventListener("mouseleave",t=>{[...this.element.children].forEach(t=>{t.querySelector('input[type="submit"]')&&(t.querySelector('input[type="submit"]').style.visibility="hidden")})}),this.element.addEventListener("mousedown",t=>{"INPUT"===t.target.tagName&&"submit"===t.target.getAttribute("type")&&(this.element.removeChild(t.target.parentElement),this.listSize--,a(this)<1&&this.addListItem())})),this.addListItem()}function n(t){const i=e.createElement("INPUT");return i.setAttribute("type",t.attr.type),i.setAttribute("placeholder",t.attr.placeholder),t.attr.minLength&&i.setAttribute("minLength",t.attr.minLength),t.attr.maxLength&&i.setAttribute("maxLength",t.attr.maxLength),i.setAttribute("required",""),i}function l(t){return!!t.checkValidity()||(t.reportValidity(),!1)}function r(t,i){const n=t.parentElement;n.removeChild(t),n.appendChild(e.createTextNode(t.value)),i.options.showDeleteButton&&n.appendChild(function(){const t=e.createElement("INPUT");return t.setAttribute("type","submit"),t.setAttribute("value","DEL"),t.setAttribute("style","background: firebrick; color: white; font-size: 0.7em; visibility: hidden; float: right; border: none;"),t}())}function s(t,e){for(let i=0;i<e.inputChecks.length;i++){if(!e.inputChecks[i].callback(t.value))return t.setCustomValidity(e.inputChecks[i].message),!1;t.setCustomValidity("")}return!0}function a(t){return[...t.element.children].reduce((t,e)=>e.firstElementChild&&"submit"!==e.firstElementChild.getAttribute("type")?++t:t,0)}function h(t){t.target.firstElementChild&&"text"===t.target.firstElementChild.getAttribute("type")?t.preventDefault():(t.target.classList.add("dragging"),t.target.setAttribute("style","opacity: 0.5;"))}function o(t){t.target.classList.remove("dragging"),t.target.setAttribute("style","opacity: 1;")}i.prototype={setInputType:function(t){if(["email","date","month","number","time","week","text","password","url"].includes(t)){this.attr.type=t,[...this.element.querySelectorAll("input")].filter(t=>"submit"!==t.getAttribute("type")).forEach(e=>{e.setAttribute("type",t)})}},setPlaceholder:function(t){this.attr.placeholder=t,[...this.element.querySelectorAll("input")].filter(t=>"submit"!==t.getAttribute("type")).forEach(e=>{e.setAttribute("placeholder",t)})},setMinLength:function(t){this.attr.minLength=t,[...this.element.querySelectorAll("input")].filter(t=>"submit"!==t.getAttribute("type")).forEach(e=>{e.setAttribute("minLength",t)})},setMaxLength:function(t){this.attr.maxLength=t,[...this.element.querySelectorAll("input")].filter(t=>"submit"!==t.getAttribute("type")).forEach(e=>{e.setAttribute("maxLength",t)})},setId:function(t){this.element.id=t},addClasses:function(t){this.element.classList.add([...t])},removeClasses:function(t){this.element.classList.remove([...t])},addListItem:function(){if(this.listSize>this.maxSize)return;const t=e.createElement("LI"),i=n(this);t.appendChild(i),t.setAttribute("key",this.listSize),this.options.allowReorder&&(t.setAttribute("draggable",!0),t.addEventListener("dragstart",h),t.addEventListener("dragend",o)),this.element.appendChild(t),this.listSize++},addValidation:function(t,e="Invalid input"){this.inputChecks.push({callback:t,message:e})},addFromArray:function(t){let e=!1;this.element.lastElementChild.firstElementChild&&"submit"!==this.element.lastElementChild.firstElementChild.getAttribute("type")&&""===this.element.lastElementChild.firstElementChild.value&&(this.element.removeChild(this.element.lastElementChild),e=!0);for(let e=0;e<t.length;e++)this.addListItem(),this.element.lastElementChild.firstChild.value=t[e],r(this.element.lastElementChild.firstChild,this);e&&this.addListItem()},appendTo:function(t){const i=e.querySelector(t);i&&i.appendChild(this.element)},addBefore:function(t){const i=e.querySelector(t);i&&i.before(this.element)},addAfter:function(t){const i=e.querySelector(t);i&&i.after(this.element)},getData:function(){const t=[];for(let e=0;e<this.element.children.length;e++)this.element.children[e].firstElementChild||t.push(this.element.children[e].innerText);return t},getAllData:function(){const t=[];for(let e=0;e<this.element.children.length;e++)this.element.children[e].firstElementChild?t.push(this.element.children[e].firstElementChild.value):t.push(this.element.children[e].innerText);return""===t[this.element.children.length-1]&&t.pop(),t},setTheme:function(t){const e=Object.keys(t).reduce((e,i)=>{return`${e} ${i}: ${t[i]};`},"");this.element.style.cssText=e},simpleLight:{background:"white",color:"darkslategray","list-style":"inside square"},simpleDark:{background:"darkslategray",color:"ivory","list-style":"inside square"},cream:{background:"antiquewhite",color:"darkolivegreen","list-style":"inside '-'"},hacker:{background:"black",color:"lime","list-style":"inside '> '"},underwater:{background:"blue",color:"aquamarine","list-style":"inside '~~~'"},MLA:{"line-height":"2em",background:"white",color:"black"},PuTTY:{background:"black",color:"white","list-style":"inside '$ '"},emoji:{color:"teal","list-style":"'\\1F449'"}},t.ListExtender=t.ListExtender||i}(window,window.document);